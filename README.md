# 家計簿スマホ入力 PWA

家計簿スマホ入力 PWA は、PC版システムの簡易的な入力端末として機能するように設計された、モバイル最適化済みの家計簿入力ツールです。

## 主要機能

- **PWA (Progressive Web App)**: スマホのホーム画面に追加してアプリのように利用可能。オフラインでも動作します。
- **モバイル最適化UI**: Pixel 9a 等の最新デバイスの解像度に合わせ、片手で操作しやすいレイアウトを採用。
- **直感的な入力アシスト**:
  - **記憶機能**: 「収支区分」ごとに直前に使用した「カテゴリ」と「支払い方法」を自動的にセットします。
  - **よく使うカテゴリ**: 使用頻度の高い上位3件のカテゴリを「チップ」として表示し、ワンタップで切り替え可能です。
  - **連続入力モード**: 登録後、金額フィールドのみをクリアしてトースト通知を表示。画面遷移なしで素早く次の入力を開始できます。
  - **スワイプナビゲーション**: 画面全体を左右にスワイプすることで、「入力」「一覧」「出力」のタブを切り替えられます。
- **モダンなデザイン**: 「Outfit」フォントの採用、美しいグラデーション、適切な情報密度を確保したカードUI。
- **ダークモード対応**: システム設定への自動追従に加え、手動での切り替えも可能。

## データ管理仕様

- **IndexedDB**: 取引データの実体は、ブラウザ内の永続ストレージである IndexedDB に保存されます。ブラウザを閉じても消えません。
- **localStorage**: 以下の設定値や統計情報が保存されます。
  - `lastBop`: 最後に選択した収支区分（収入/支出）
  - `lastCat_[bopCd]`: 収支区分ごとの最終選択カテゴリ
  - `lastPmt_[bopCd]`: 収支区分ごとの最終選択支払い方法
  - `catStats_[bopCd]`: 収支区分ごとのカテゴリ利用頻度統計
- **CSV出力**: 保存された全データを、PC版システム（SQLite等）に取り込める形式でエクスポートできます。

## デプロイ方法 (GitHub Pages)

このプロジェクトは GitHub Actions を使用して GitHub Pages に自動デプロイされるように設定されています。

1. **Vite 設定**: `vite.config.ts` の `base: './'` 設定により、GitHub Pages のサブディレクトリでも動作します。
2. **初回設定手順**:
   - このリポジトリを GitHub にプッシュします。
   - GitHub リポジトリの **Settings** > **Pages** を開きます。
   - **Build and deployment** > **Source** で **GitHub Actions** を選択します。
3. **デプロイの実行**: `main` ブランチにプッシュすると、自動的にビルドとデプロイが開始されます。

## ローカル開発

```bash
npm install
npm run dev
```
